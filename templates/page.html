{% extends "index.html" %}

{% block title %}{{ page.title }} - {{ config.title }}{% endblock title %}

{% block main %}
<article>
  <div class="headline">
    <h1>{{ page.title }}</h1>
    <div class="border"></div>
    <time datetime="{{ page.date | date(format='%Y-%m-%d') }}" class="date" itemprop="datePublished">
      {{ page.date | date(format="%d %b %Y") }}
    </time>

    {% if page.taxonomies.tags %}
    <div class="tags">
      Tags:
      {% for tag in page.taxonomies.tags %}
        <a href="{{ get_taxonomy_url(kind='tags', name=tag) | safe }}">#{{ tag }}</a>{% if not loop.last %}, {% endif %}
      {% endfor %}
    </div>
    {% endif %}
  </div>

  {% if page.extra.toc %}
  <aside class="toc">
    <h2>Table of Contents</h2>
    <ul>
    {% for h1 in page.toc %}
      <li>
        <a href="{{ h1.permalink | safe }}">{{ h1.title }}</a>
        {% if h1.children %}
        <ul>
        {% for h2 in h1.children %}
          <li><a href="{{ h2.permalink | safe }}">{{ h2.title }}</a></li>
        {% endfor %}
        </ul>
        {% endif %}
      </li>
    {% endfor %}
    </ul>
  </aside>
  {% endif %}

  <div class="articleBody">
    {{ page.content | safe }}
  </div>

  {% if page.taxonomies.categories %}
  <div class="categories">
    Categories:
    {% for category in page.taxonomies.categories %}
      <a href="{{ get_taxonomy_url(kind='categories', name=category) | safe }}">{{ category }}</a>{% if not loop.last %}, {% endif %}
    {% endfor %}
  </div>
  {% endif %}
</article>
{% endblock main %}
